# 15.2 Content-Length 엔터티의 길이

Content-Length 헤더는 메시지의 엔터티 본문의 크기를 바이트 단위로 나타낸다.

- Content-Length 헤더는, 청크 인코딩이 아니라면 엔터티 본문은 필수로 포함해야 한다.
- Content-Length는 서버 충돌로 인한 오류가 있는지 또는 지속 커넥션을 통해 올바르게 메시지를 공유하고 있는지 확인할 때 필요하다.

<br />

## 15.2.1 잘림 검출

클라이언트는 메시지 잘림을 검출하기 위해 Content-Length를 필요로 한다. 잘린 메시지를 캐시하는 위험을 줄이기 위해, 캐싱 프락시 서버는 명시적으로 Content-Length 헤더를 갖고 있지 않은 HTTP 본문은 보통 캐시하지 않는다.

<br />

## 15.2.2 잘못된 Content-Length

Content-Length가 잘못된 값을 담고 있을 경우 아예 빠진 것보다도 큰 피해를 유발할 수 있다.

<br />

## 15.2.3 Content-Length와 지속 커넥션

- Content-Length는 지속 커넥션을 위해 필수다.
- 청크 인코딩은 데이터를 각각이 특정한 크기를 갖는 일련의 청크들로 쪼개어 보낸다.
- 서버는 청크 인코딩을 이용해 엔터티를 잘 정의된 크기의 조각들로 전송할 수 있다.

<br />

## 15.2.4 콘텐츠 인코딩

- HTTP는 보안을 강화하거나 압축을 통해 공간을 절약할 수 있도록, 엔터티 본문을 인코딩할 수 있게 해준다.
- 인코딩되어 있다면 인코딩된 본문의 길이를 바이트 단위로 정의한다.
