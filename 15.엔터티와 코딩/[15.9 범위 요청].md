# 15.9 범위 요청

- `HTTP는 클라이언트가 문서의 일부분이나 특정 범위만 요청`할 수 있도록 해준다
- 범위 요청을 이용하면 `HTTP 클라이언트는 받다가 실패한 엔터티를 일부 혹은 범위로 요청함으로써 다운로드를 중단된 시점에서 재개`할 수 있다(원 서버에서 그 객체가 처음 요청했을 때와 범위 요청을 했을 때 사이에 아무 변경이 없었다면)
- 예시

```
GET /bigfile.html HTTP/1.1
Host: www.joes-hardware.com
Range: bytes=4000-
User-Agent: Mozilla/4.61 [en] (WinNT; I)
...
```

- 클라이언트는 처음 4000 바이트 이후의 부분을 요청하고 있다(문서의 크기를 요청자가 모르기 때문에 몇 바이트까지인지는 명시하지 않는다) 이 형식의 범위 요청은 클라이언트가 처음의 4000 바이트만 받고 실패했을 때 사용할 수 있다
- `Range 헤더`는 또한 여러 범위로 요청을 하기 위해 사용될 수 있다(각 범위는 순서없이 정해지며 서로 겹칠 수도 있다)
- 모든 서버가 범위 요청을 받아들일 수 있는 것은 아니지만 많은 경우 가능하다. 서버는 클라이언트에게 자신이 범위를 받아들일 수 있는지 응답에 Accept-Range 헤더를 포함시키는 방법으로 알려줄 수 있다. 이 헤더의 값은 측정의 단위로, 주로 바이트다. 예를 들면 다음과 같다
  ```
  HTTP/1.1 200 OK
  Date: Fri, 05 Nov 1999 22:35:15 GMT
  Server: Apache/1.2.4
  Accept-Ranges: bytes
  ...
  ```
- Range 헤더는 피어 투 피어 파일 공유 클라이언트가 멀티미디어 파일의 다른 부분을 여러 다른 피어로부터 동시에 다운로드 받을 때도 널리 사용된다
- 범위요청은 객체의 특정 인스턴스를 클라이언트와 서버 사이에서 교환하는 것이기 때문에, 인스턴스 조작의 일종이라는 것에 주의해야 한다
  - 이는 클라이언트의 범위 요청은 오직 클라이언트와 서버가 같은 버전의 문서를 갖고 있을 때만 의미가 있음을 의미
