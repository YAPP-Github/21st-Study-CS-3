# 21.3 적중 계량하기
- 로그를 활용하면 클라이언트가 웹서버에 얼만큼 방문했는지 알 수 있음.
- 클라이언트와 서버 사이에 캐시가 존재한다면 캐시는 수많은 HTTP요청을 처리하므로, 요청이 원 서버 까지 오지 않더라도 정상적으로 처리될 수 있어서, 클라이언트가 콘텐츠에 접근했다는 기록이 남지 않아 **로그 파일에 누락**이 발생하게 된다.
   - 캐시를 파기 시킨다면, 모든 요청이 원서버로 가기 때문에 문제 없이 로깅은 할 수 있다
   - 요청에 대한 응답속도가 느려지고 **원서버와 네트워크의 부하가 가중되는 문제**를 야기한다.
      - 프락시 캐시들은 자체 로그를 유지하기 때문에 서버가 그 로그에 접근할 수 있거나 얼마나 자주 콘텐츠가 프락시 캐시를 통해 적용되는지만 알 수 있다면 **캐시 파기의 문제**를 해결!
      - **적중 계량 규약**은 HTTP의 확장으로, 캐시가 정기적으로 캐시 접근 통계를 원 서버에 보고하도록 한다.
      - 완벽하지는 않지만 적어도 서버가 원하는 통계 정보를 받을 수 있음.
      ~~널리구현되거나 사용되지는 않음~~

## 21.3.2 Meter 헤더

- `적중 계량 확장`은 Meter 라는 새로운 헤더를 추가했다. 
- `Cache-Control` 헤더에 다양한 캐시 지시자를 기술할 수 있듯이, 캐시나 서버는 Meter 헤더에 사용량이나 보고에 관한 지시자가 기술할 수 있다.
![](https://velog.velcdn.com/images/yoose1002/post/75bcbcfb-62bb-4b2b-92e6-5303cb93a5a3/image.png)
  - count : 사용횟수/재사용횟수(클라이언트 요청에 응답한 횟수, 클라이언트 요청을 다시 검증한 횟수)

## 실제 적중 계량의 예
![](https://velog.velcdn.com/images/yoose1002/post/25a0cd62-edb9-4f20-93c6-adbb71961b6c/image.jpeg)
-  프락시가 보내는 요청과 서버의 응답에 `Meter` 라는 헤더가 추가로 기술
- 프락시가 적중 계량을 할 수 있으며 서버는 프락시에게 적중 횟수를 요구할 수 있음