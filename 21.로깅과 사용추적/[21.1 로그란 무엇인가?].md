# 21.1 로그란 무엇인가?

- 거의 모든 서버와 프락시는 `처리했던 HTTP 트랜잭션을 요약해서 기록해 놓는다`
- 대개 `로깅`을 하는 이유는 두가지
  - 서버나 프락시의 문제를 찾거나
  - 웹 사이트 접근 통계를 내려고
    - 통계는 마케팅, 청구, 장비 조달 계획(예를 들어, 서버나 대역폭을 늘릴 필요가 있는지 결정하려고)을 세우는 데 유용하다
- HTTP 트랜잭션의 모든 헤더를 로깅할 수는 있지만 하루에 트랜잭션을 수백만개나 처리하는 서버나 프락시에서 모든 데이터를 그대로 로깅하면 감당하기 힘들어진다
  - 별 연관성이 없고 다시 볼일도 없는 데이터만 로깅하는 것이다
- 보통은 트랜잭션의 기본적인 항목들만 로깅한다. 일반적으로 로깅하는 필드는 다음과 같은 것들
  - `HTTP 메서드`
  - `클라이언트와 서버의 HTTP 버전`
  - `요청받은 리소스의 URL`
  - `응답의 HTTP 상태 코드`
  - `요청과 응답 메시지의 크기(모든 엔터티 본문을 포함)`
  - `트랜잭션이 일어난 시간`
  - `Referer 와 User-Agent 헤더 값`
- `HTTP 메서드`와 `URL` 은 어떤 요청이 어떤 일을 하려고 했는지 가리킨다
  - 예를 들어 리소스를 가져오거나(GET) 주문서를 작성(POST) 하는 것처럼 말이다
- `URL` 은 웹 사이트의 특정 페이지가 얼마나 인기 있는지 추적하는 데 사용할 수 있다
- `버전 정보`는 클라이언트와 서버 간에 문제가 생겼을 때 디버깅하는 데 도움이 될 클라이언트와 서버에 관한 정보를 제공한다
  - 예를 들어 요청을 처리하는데 너무 많은 실패가 발생하고 있다면 버전 정보에는 서버와 상호작용할 수 없는 브라우저의 최신 릴리스 버전이 기술되어 있을 것이다
- `HTTP 상태코드`는 요청이 성공적으로 이루어졌는지, 인증 시도가 실패했는지, 리소스를 찾았는지 등 어떤 일이 일어났었는지 알려준다
- `요청/응답의 크기`와 `타임스탬프`는 주로 계측하는 데 쓴다
  - 얼마나 많은 바이트를 애플리케이션 안팎으로 송수신하고 있는지, 혹은 얼마나 많은 바이트가 애플리케이션을 통해 전송되는지 말이다
  - 타임스탬프는 문제가 발생했을 때 그 시간에 받았던 요청을 찾는 데 사용한다
